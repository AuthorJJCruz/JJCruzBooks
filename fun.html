<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Page</title>
    <style>
        body {
            background: url('gamepic.png') no-repeat center center fixed;
            background-size: cover;
            color: white;
            text-align: center;
            font-family: Arial, sans-serif;
        }
        .game-container {
            margin: 50px auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            display: inline-block;
            width: 60%;
            min-height: 200px;
        }
        .btn {
            background-color: red;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
        }
        .btn:hover {
            background-color: darkred;
        }
        .start-button {
            background-color: white;
            color: black;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-top: 20px;
        }
        .test-button {
            background-color: #007BFF;
            color: white;
            padding: 10px 20px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            margin-top: 10px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        .test-button:hover {
            background-color: #0056b3;
        }
        .back-button {
            background-color: red;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>Welcome to the Fun Page</h1>

    <button class="start-button" id="fun-button">Start the Game</button>
    <br>
    <a href="https://authorjjcruz.github.io/book-quiz/Book-Personality.html" class="test-button" target="_blank">Take the Book Personality Test</a>

    <div class="game-container" id="game-container">
        <p id="text"></p>
        <div id="options-container"></div>
    </div>

    <br>
    <button class="back-button" onclick="window.location.href='index.html'">Back to Homepage</button>

    <script src="Game.js"></script>

</body>
</html>
<!-- FPS Game Container -->
<div id="fps-game" style="display:none; width:100%; height:600px; margin-top:20px;">
    <canvas id="fps-canvas" style="width:100%; height:100%; display:block;"></canvas>
</div>
<!-- Required Scripts -->
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/controls/PointerLockControls.js"></script>

<script>
    document.getElementById('fun-button').addEventListener('click', () => {
        const gameDiv = document.getElementById('fps-game');
        gameDiv.style.display = 'block';
        initFPSGame();
    });

    function initFPSGame() {
        const canvas = document.getElementById('fps-canvas');

        let camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 1, 1000);
        let scene = new THREE.Scene();
        scene.background = new THREE.Color(0x202020);

        let renderer = new THREE.WebGLRenderer({ canvas });
        renderer.setSize(canvas.clientWidth, canvas.clientHeight);

        const controls = new THREE.PointerLockControls(camera, document.body);
        scene.add(controls.getObject());

        document.body.addEventListener('click', () => controls.lock());

        let move = { forward: false, backward: false, left: false, right: false };
        let velocity = new THREE.Vector3();
        const speed = 400;

        document.addEventListener('keydown', (e) => {
            switch (e.code) {
                case 'KeyW': move.forward = true; break;
                case 'KeyA': move.left = true; break;
                case 'KeyS': move.backward = true; break;
                case 'KeyD': move.right = true; break;
            }
        });

        document.addEventListener('keyup', (e) => {
            switch (e.code) {
                case 'KeyW': move.forward = false; break;
                case 'KeyA': move.left = false; break;
                case 'KeyS': move.backward = false; break;
                case 'KeyD': move.right = false; break;
            }
        });

        document.addEventListener('mousedown', (e) => {
            if (e.button === 0) console.log('Bang!');
        });

        const light = new THREE.HemisphereLight(0xffffff, 0x444444);
        light.position.set(0, 200, 0);
        scene.add(light);

        const floorGeometry = new THREE.PlaneGeometry(2000, 2000);
        const floorMaterial = new THREE.MeshStandardMaterial({ color: 0x333333 });
        const floor = new THREE.Mesh(floorGeometry, floorMaterial);
        floor.rotation.x = -Math.PI / 2;
        scene.add(floor);

        function animate() {
            requestAnimationFrame(animate);
            const delta = 0.01;

            velocity.set(0, 0, 0);
            if (move.forward) velocity.z -= speed * delta;
            if (move.backward) velocity.z += speed * delta;
            if (move.left) velocity.x -= speed * delta;
            if (move.right) velocity.x += speed * delta;

            controls.moveRight(velocity.x * delta);
            controls.moveForward(velocity.z * delta);

            renderer.render(scene, camera);
        }

        animate();
    }
</script>

